{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/helpers.js","../src/js/constants.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/modal.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const refs = {\n  categoryList: document.querySelector('.categories'),\n  productsList: document.querySelector('ul.products'),     \n  notFoundDiv: document.querySelector('.not-found'),\n  modalContainer: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector(\".modal__close-btn\"),\n  form: document.querySelector(\".search-form\"),\n  formBtnClear: document.querySelector(\".search-form__btn-clear\"),\n};\n","import { refs } from './refs';\n\nexport const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n  //   [...refs.categoryList.children].forEach(li => {\n  //     const activeBtn = li.firstElementChild;\n  //     if (activeBtn.textContent.toLowerCase() === 'all') {\n  //       activeBtn.classList.add('categories__btn--active');\n  //     }\n  //   });\n};\n// 6. Підсвітка активної категорії ===\n\nexport const highlightActiveCategory = (activeButton) => {\n  document.querySelectorAll('.categories__btn').forEach(btn => btn.classList.remove('categories__btn--active'));\n  activeButton.classList.add('categories__btn--active');\n};\n\nexport const clearProducts = () => {\n  refs.productsList.innerHTML = \"\";\n}","// API ендпоінти:\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nexport const BASE_URL = 'https://dummyjson.com/';\n\nexport const ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  PRODUCTS_BY_ID: 'products',\n  PRODUCTS_BY_CATEGORY: 'products/category',\n  PRODUCTS_BY_QUERY: 'products/search',\n};\n\nexport const ITEMS_PER_PAGE = 12;\n\n","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS, ITEMS_PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchCategories = async () => {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n};\n\nexport const fetchProducts = async (page) => {\n    const skip = (page - 1) * ITEMS_PER_PAGE;\n    const { data } = await axios(`${ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`);\n    return data;\n    \n};\n\nexport const fetchByCategory = async (category) => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_CATEGORY}/${category}`);\n  return data;\n};\n\nexport const fetchModal = async (id) => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`);\n  return data;\n};\n\nexport const fetchQuery = async (query, page) => { \n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_QUERY}?q=${query}&limit=${ITEMS_PER_PAGE}&skip=${skip}`);\n  return data;\n};\n\n","import { refs } from './refs';\n\nexport const renderCategories = data => {\n  //   const allData = ['All', ...data];\n  const markup = data\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>`\n    )\n    .join('');\n\n  refs.categoryList.innerHTML = markup;\n};\n\nexport const renderProducts = (products) => {\n  const markup = products.map(({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category: ${category} </p>\n    <p class=\"products__price\">Price: $${price}</p>\n </li>\n    `).join(\"\");\n\n  refs.productsList.innerHTML = markup;\n};\n\nexport const renderEmptyMessage = (container, message) => {\n  container.innerHTML = `<p class=\"empty-message\">${message}</p>`;\n};\n\nexport const renderModal = (modal) => {\n\n  const { thumbnail, title, tags, description, shippingInformation, returnPolicy, price } = modal;\n  const markup = `\n  <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price:${price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n  `;\n\n  refs.modalContainer.innerHTML = markup;\n};\n\n\n\n","\nconst modalEl = document.querySelector('.modal');\n\nexport const openModal = () => {  \n    if (modalEl) {\n        modalEl.classList.add('modal--is-open');\n    };\n};\n\nexport const closeModal = () => {\n    modalEl.classList.remove('modal--is-open');\n}\n\n\n","import iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { activeFirstBtn, clearProducts, highlightActiveCategory, } from './helpers';\nimport { fetchCategories, fetchProducts, fetchModal,  fetchByCategory, fetchQuery  } from './products-api';\nimport { renderCategories, renderProducts, renderEmptyMessage, renderModal } from './render-function';\nimport { refs } from './refs.js';\nimport { openModal } from './modal.js';\n\nlet currentPage = 1;\n\nexport const getCategories = async () => {\n  try {\n    const data = await fetchCategories();\n    \n    renderCategories(['All', ...data]);\n    activeFirstBtn();\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\nexport const getProducts = async () => {\n  try {\n    const { products, total } = await fetchProducts(currentPage);\n    \n    renderProducts(products);\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n    \n  }\n};\n\n// Модальне вікно\nexport const getModal = async (event) => {\n  const card = event.target.closest(\".products__item\");\n  const cardId = card.dataset.id;  \n  \n  try {\n    const data = await fetchModal(cardId);\n    openModal();\n    renderModal(data);\n\n\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n    \n  }\n}\n\n\n//  Клік по категорії ===\nexport const handleCategoryClick = async (e) => {\n  if (!e.target.classList.contains('categories__btn')) return;\n\n  const currentCategory = e.target.textContent;\n\n  \n \n  refs.productsList.innerHTML = '';\n\n  try {\n    const data = await fetchByCategory(currentCategory);\n    renderProducts(data.products);\n    highlightActiveCategory(e.target);\n  } catch (err) {\n    iziToast.error({ title: 'Error', message: err.message });\n  }\n};\n\n\nexport const getProductsByQuery = async (event) => { \n  event.preventDefault();\n  const query = event.target.elements.searchValue.value.trim();\n\n  \n\n  if (!query) return;\n\n  try {\n    const { products } = await fetchQuery(query, currentPage);\n    \n    if (products.length === 0) {\n      console.log(\"ok\");\n      clearProducts();\n      return refs.notFoundDiv.classList.add(\"not-found--visible\");\n    } else {\n      renderProducts(products);\n    };    \n  } catch (error) {\niziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\nexport const getClearForm = () => {\n  refs.form.reset();\n  getProducts();\n}\n\n\n","import { getCategories, getClearForm, getModal, getProducts, getProductsByQuery, handleCategoryClick } from './js/handlers';\nimport { closeModal } from './js/modal';\nimport { refs } from './js/refs';\n\n//Логіка сторінки Home\ngetCategories();\ngetProducts();\n\nrefs.categoryList.addEventListener('click', handleCategoryClick);\nrefs.productsList.addEventListener(\"click\", getModal);\nrefs.modalCloseBtn.addEventListener(\"click\", closeModal);\nrefs.form.addEventListener(\"submit\", getProductsByQuery);\nrefs.formBtnClear.addEventListener(\"click\", getClearForm);"],"names":["refs","activeFirstBtn","firstBtn","highlightActiveCategory","activeButton","btn","clearProducts","BASE_URL","ENDPOINTS","ITEMS_PER_PAGE","axios","fetchCategories","data","fetchProducts","page","skip","fetchByCategory","category","fetchModal","id","fetchQuery","query","renderCategories","markup","el","renderProducts","products","thumbnail","title","brand","price","renderModal","modal","tags","description","shippingInformation","returnPolicy","modalEl","openModal","closeModal","currentPage","getCategories","error","iziToast","getProducts","total","getModal","event","cardId","handleCategoryClick","e","currentCategory","err","getProductsByQuery","getClearForm"],"mappings":"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"}