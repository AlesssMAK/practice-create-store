{"version":3,"file":"handlers--K4R9DK8.js","sources":["../../src/js/refs.js","../../src/js/constants.js","../../src/js/render-function.js","../../src/js/storage.js","../../src/js/helpers.js","../../src/js/products-api.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["export const refs = {\n  categoryList: document.querySelector('.categories'),\n  productsList: document.querySelector('ul.products'),\n  notFoundDiv: document.querySelector('.not-found'),\n  modalContainer: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  form: document.querySelector('.search-form'),\n  formBtnClear: document.querySelector('.search-form__btn-clear'),\n  modal: document.querySelector('.modal'),\n  addToCartBtn: document.querySelector('.modal-product__btn--cart'),\n  navCounter: document.querySelector('.nav__count'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  countCartItem: document.querySelector('[data-count]'),\n  priceCartTotal: document.querySelector('[data-price]'),\n  buyBtn: document.querySelector('.cart-summary__btn'),\n  addToWishlistBtn: document.querySelector('.modal-product__btn--wishlist'),\n  scrollBtn: document.querySelector('.scroll-top-btn'),\n  header: document.querySelector('header'),\n};\n","// API ендпоінти:\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nexport const BASE_URL = 'https://dummyjson.com/';\n\nexport const ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  PRODUCTS_BY_ID: 'products',\n  PRODUCTS_BY_CATEGORY: 'products/category',\n  PRODUCTS_BY_QUERY: 'products/search',\n};\n\nexport const ITEMS_PER_PAGE = 12;\nexport const CART_KEY = 'cart';\nexport const WISHLIST_KEY = 'wishlist';","import { refs } from './refs';\n\nexport const renderCategories = data => {\n  const allData = ['All', ...data];\n  const markup = allData\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>`\n    )\n    .join('');\n\n  refs.categoryList.innerHTML = markup;\n};\n\nexport const renderProducts = products => {\n  const markup = products\n    .map(\n      ({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category: ${category} </p>\n    <p class=\"products__price\">Price: $${price}</p>\n </li>\n    `\n    )\n    .join('');\n\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n};\n\nexport const renderEmptyMessage = (container, message) => {\n  container.innerHTML = `<p class=\"empty-message\">${message}</p>`;\n};\n\nexport const renderModal = modal => {\n  const {\n    thumbnail,\n    title,\n    tags,\n    description,\n    shippingInformation,\n    returnPolicy,\n    price,\n  } = modal;\n  const markup = `\n  <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price:${price} $</p>\n        \n      </div>\n  `;\n\n  refs.modalContainer.innerHTML = markup;\n};\n","import { CART_KEY, WISHLIST_KEY } from './constants';\nimport { renderProducts } from './render-function';\n\nexport const getCart = () => {\n  return JSON.parse(localStorage.getItem(CART_KEY)) || [];\n};\n\nexport const saveCart = cart => {\n  return localStorage.setItem(CART_KEY, JSON.stringify(cart));\n};\n\nexport const addToCart = id => {\n  const cart = getCart();\n  if (!cart.includes(id)) {\n    cart.push(id);\n    saveCart(cart);\n  }\n};\n\nexport const removeFromCart = id => {\n  const updateCart = getCart().filter(itemId => itemId !== id);\n  saveCart(updateCart);\n};\n\nexport const isInCart = id => getCart().includes(id);\n\n// Iryna M.\n// /for wishlist\n\nexport const getWishlist = () => {\n  // повертаємо массив ID продуктів\n  \n  return JSON.parse(localStorage.getItem(WISHLIST_KEY)) || [];\n};\n\nexport const saveWishlist = wishlistIds => {\n  \n  localStorage.setItem(WISHLIST_KEY, JSON.stringify(wishlistIds));\n  console.log(wishlistIds);\n  \n  return wishlistIds;\n};\n\nexport const addToWishlist = id => {\n  console.log('Додаємо до wishlist:', id);\n  const wishlistIds = getWishlist();\n  if (!wishlistIds.includes(id)) {\n    wishlistIds.push(id);\n    saveWishlist(wishlistIds);\n  }\n};\n\nexport const removeFromWishlist = id => {\n  const updateedWishlistArray = getWishlist().filter(itemId => itemId !== id);\n  saveWishlist(updateedWishlistArray);\n  \n};\n\nexport const isInWishlist = id => getWishlist().includes(id);\n\n////Theme\nconst THEME_KEY = 'theme';\n\nexport const getTheme = () => localStorage.getItem(THEME_KEY) || 'light';\n\nexport const saveTheme = theme => localStorage.setItem(THEME_KEY, theme);\n\nexport const applyTheme = theme => {\n  document.documentElement.setAttribute('data-theme', theme);\n  saveTheme(theme);\n};\n\nexport const toggleTheme = () => {\n  const currentTheme = getTheme();\n  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\n  applyTheme(newTheme);\n};\n","import { refs } from './refs';\nimport {\n  getCart,\n  getWishlist,\n  isInWishlist,\n  isInCart,\n  applyTheme,\n  getTheme,\n} from './storage';\n\nexport let currentProductId = null;\n\nexport const setCurrentProduct = productId => {\n  currentProductId = productId;\n  updateCartBtnText();\n  updateWishlistBtnText(currentProductId);\n};\n\nexport const updateCartBtnText = () => {\n  if (currentProductId === null) return;\n\n  if (isInCart(currentProductId)) {\n    refs.addToCartBtn.textContent = 'Remove from Cart';\n  } else {\n    refs.addToCartBtn.textContent = 'Add to Cart';\n  }\n};\n\nexport const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n};\n\nexport const toggleActiveClass = (elements, activeElement, activeClass) => {\n  elements.forEach(element => {\n    element.classList.remove(activeClass);\n  });\n  activeElement.classList.add(activeClass);\n};\n\nexport const clearActiveCategoryBtn = () => {\n  const CategoryBtns = document.querySelectorAll('.categories__btn');\n  CategoryBtns.forEach(btn => btn.classList.remove('categories__btn--active'));\n  console.log('ok clearActiveCategoryBtn');\n};\n\nexport const clearProducts = () => {\n  refs.productsList.innerHTML = '';\n};\n\n// cart product counter\n\nexport const updateCartCounter = () => {\n  const counter = document.querySelector('.nav__count');\n  if (!counter) {\n    return;\n  }\n  const cart = getCart();\n  counter.textContent = cart.length;\n};\n\nexport const updateCartSummary = products => {\n  if (!Array.isArray(products)) return;\n  if (!refs.countCartItem) return;\n  refs.countCartItem.textContent = products.length;\n};\n\nexport const updateCartTotal = products => {\n  if (!Array.isArray(products)) return;\n  if (!refs.priceCartTotal) return;\n  const total = products.reduce((sum, product) => sum + product.price, 0);\n  refs.priceCartTotal.textContent = `$${total.toFixed(2)}`;\n};\n\n//wishlist\nexport const updateWishlistCounter = () => {\n  const counter = document.querySelector('.wishlist-items-count');\n  if (!counter) {\n    return;\n  }\n\n  const wishlist = getWishlist();\n  counter.textContent = wishlist.length;\n};\n\nexport const updateWishlistBtnText = id => {\n  if (isInWishlist(id)) {\n    refs.addToWishlistBtn.textContent = 'Remove from Wishlist';\n  } else {\n    refs.addToWishlistBtn.textContent = 'Add to Wishlist';\n  }\n};\n\nexport const isWishlistPage = () =>\n  window.location.pathname.includes('wishlist');\nexport const isCartPage = () => window.location.pathname.includes('cart');\n\nexport const showLoadMoreButton = () => {\n  refs.loadMoreBtn.classList.remove('is-hidden');\n};\n\nexport const hideLoadMoreButton = () => {\n  refs.loadMoreBtn.classList.add('is-hidden');\n};\n\nexport const showNotFoundDiv = () => {\n  refs.notFoundDiv.classList.add('not-found--visible');\n  applyTheme(getTheme()); // застосувати поточну тему\n};\n\nexport const hideNotFoundDiv = () => {\n  refs.notFoundDiv.classList.remove('not-found--visible');\n  applyTheme(getTheme()); // застосувати поточну тему (якщо треба)\n};\n\nexport const toggleScrollButton = () => {\n  const productsTop = refs.productsList.getBoundingClientRect().top;\n\n  if (productsTop < 0) {\n    refs.scrollBtn.classList.add('scroll-top-btn--visible');\n  } else {\n    refs.scrollBtn.classList.remove('scroll-top-btn--visible');\n  }\n};\n\nexport const showLoader = () => {\n  if (loader) loader.classList.remove('hidden');\n};\n\nexport const hideLoader = () => {\n  if (loader) loader.classList.add('hidden');\n};\n","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS, ITEMS_PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchCategories = async () => {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n};\n\nexport const fetchProducts = async page => {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios(\n    `${ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n};\n\nexport const fetchByCategory = async category => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_CATEGORY}/${category}`);\n  return data;\n};\n\n// Функція повертає один продукт по його ID\nexport const fetchModal = async id => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`);\n  return data;\n};\n\n// функція повертає массив продуктів за заданими ID\nexport const fetchProductsByIds = async Ids => {\n  try {\n    const { data } = await axios(`${ENDPOINTS.PRODUCTS}?limit=0`);\n    const allProducts = data;\n    const filteredProducts = allProducts.products.filter(product =>\n      Ids.includes(String(product.id))\n    );\n    return filteredProducts;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    return [];\n  }\n};\n\nexport const fetchQuery = async query => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_QUERY}?q=${query}`);\n  return data;\n};\n","import { refs } from './refs';\nimport { hideLoader, setCurrentProduct } from './helpers';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst handleEscPress = event => {\n  if (event.code === 'Escape') {\n    closeModal();\n  }\n};\n\nconst handleBackdropClick = event => {\n  if (event.target === refs.modal) {\n    closeModal();\n  }\n};\n\nexport const openModal = productId => {\n  hideLoader();\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', handleEscPress);\n  refs.modal.addEventListener('click', handleBackdropClick);\n  setCurrentProduct(productId);\n};\n\nexport const closeModal = () => {\n  refs.modal.classList.remove('modal--is-open');\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', handleEscPress);\n  refs.modal.removeEventListener('click', handleBackdropClick);\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport {\n  currentProductId,\n  updateCartBtnText,\n  activeFirstBtn,\n  clearProducts,\n  updateCartCounter,\n  updateCartSummary,\n  updateCartTotal,\n  updateWishlistCounter,\n  updateWishlistBtnText,\n  showLoadMoreButton,\n  hideLoadMoreButton,\n  toggleActiveClass,\n  hideNotFoundDiv,\n  showNotFoundDiv,\n  isWishlistPage,\n  isCartPage,\n  hideLoader,\n  showLoader,\n  clearActiveCategoryBtn,\n} from './helpers';\nimport {\n  fetchCategories,\n  fetchProducts,\n  fetchModal,\n  fetchByCategory,\n  fetchQuery,\n  fetchProductsByIds,\n} from './products-api';\nimport {\n  renderCategories,\n  renderProducts,\n  renderModal,\n} from './render-function';\nimport { refs } from './refs.js';\nimport { closeModal, openModal } from './modal.js';\nimport {\n  addToWishlist,\n  addToCart,\n  isInCart,\n  isInWishlist,\n  removeFromCart,\n  removeFromWishlist,\n  getWishlist,\n  getCart,\n} from './storage.js';\nimport { ITEMS_PER_PAGE } from './constants.js';\n\nlet currentPage = 1;\nlet selectedCategory = 'All';\n\nexport const getCategories = async () => {\n  try {\n    showLoader();\n    const data = await fetchCategories();\n\n    renderCategories(data);\n\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n  }\n};\n\nexport const getProducts = async () => {\n  try {\n    showLoader();\n    currentPage = 1;\n    const { products, total } = await fetchProducts(currentPage);\n\n    renderProducts(products);\n\n    const totalPages = Math.ceil(total / ITEMS_PER_PAGE);\n\n    if (currentPage >= totalPages) {\n      iziToast.info({\n        message: \"We're sorry, but you've reached the end.\",\n        position: 'topRight',\n      });\n    } else {\n      showLoadMoreButton();\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n  }\n};\n\nexport const handleLoadMoreClick = async () => {\n  currentPage++;\n  showLoader();\n  hideLoadMoreButton();\n\n  try {\n    const { products, total } = await fetchProducts(currentPage);\n    renderProducts(products);\n\n    const totalPages = Math.ceil(total / ITEMS_PER_PAGE);\n    if (currentPage < totalPages) {\n      showLoadMoreButton();\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n  }\n};\n\n// Модальне вікно\nexport const handleProductsListItemClick = async event => {\n  const card = event.target.closest('.products__item');\n  const cardId = card.dataset.id;\n\n  try {\n    const data = await fetchModal(cardId);\n    openModal(cardId);\n    renderModal(data);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n  }\n};\n\n//  Клік по категорії ===\nexport const handleCategoryClick = async e => {\n  if (!e.target.classList.contains('categories__btn')) return;\n\n  showLoader();\n  hideLoadMoreButton();\n  clearProducts();\n  currentPage = 1;\n\n  try {\n    const currentCategory = e.target.textContent;\n    selectedCategory = currentCategory;\n    const allCategoryBtn = document.querySelectorAll('.categories__btn');\n    toggleActiveClass(allCategoryBtn, e.target, 'categories__btn--active');\n    let productsData;\n    if (currentCategory === 'All') {\n      currentPage = 1;\n      productsData = await fetchProducts(currentPage);\n      showLoadMoreButton();\n    } else {\n      productsData = await fetchByCategory(currentCategory);\n    }\n\n    if (productsData.products.length > 0) {\n      renderProducts(productsData.products);\n      hideLoadMoreButton();\n      hideNotFoundDiv();\n\n      if (currentCategory === 'All') {\n        const totalPages = Math.ceil(productsData.total / ITEMS_PER_PAGE);\n        if (currentPage < totalPages) showLoadMoreButton();\n      }\n    } else {\n      showNotFoundDiv();\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n  }\n};\n\n// пошук продуктів за ключовим словом - Олексій\nexport const handleProductsByQuery = async event => {\n  event.preventDefault();\n  const query = event.target.elements.searchValue.value.trim();\n\n  if (!query) return;\n  clearProducts();\n  hideLoadMoreButton();\n  try {\n    showLoader();\n    const { products } = await fetchQuery(query);\n\n    if (products.length === 0) {\n      showNotFoundDiv();\n    } else {\n      renderProducts(products);\n      hideNotFoundDiv();\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n    clearActiveCategoryBtn();\n  }\n};\n\n// очищення форми - Олексій\nexport const handleClearForm = () => {\n  clearProducts();\n  hideNotFoundDiv();\n  refs.form.reset();\n  hideLoadMoreButton();\n  clearActiveCategoryBtn();\n  activeFirstBtn();\n  getProducts();\n};\n\n/*----------------------------Cart----------------------------*/\n\nexport const loadCartProducts = async () => {\n  const cartListItems = getCart();\n\n  if (!cartListItems.length) {\n    refs.productsList.innerHTML = '';\n    showNotFoundDiv();\n    updateCartSummary([]);\n    updateCartTotal([]);\n    return;\n  }\n  showLoader();\n  const products = await fetchProductsByIds(cartListItems);\n\n  refs.productsList.innerHTML = '';\n  renderProducts(products);\n  updateCartSummary(products);\n  updateCartTotal(products);\n  hideNotFoundDiv();\n  hideLoader();\n};\n\nexport const closeModalCartlist = () => {\n  closeModal();\n};\n\n/*----------------------------Whishlist----------------------------*/\n\n// click add/remove to/from cart\n\nexport const addProductByIdToCart = () => {\n  if (currentProductId === null) {\n    return;\n  }\n\n  if (isInCart(currentProductId)) {\n    removeFromCart(currentProductId);\n    iziToast.warning({\n      title: '!',\n      message: 'Товар усунуто з кошика',\n      position: 'topRight',\n    });\n    if (isCartPage()) {\n      loadCartProducts();\n    }\n  } else {\n    addToCart(currentProductId);\n    iziToast.success({\n      title: 'Success',\n      message: 'Товар додано у кошик!',\n      position: 'topRight',\n    });\n    if (isCartPage()) {\n      loadCartProducts();\n    }\n  }\n  hideLoader();\n  updateCartBtnText();\n  updateCartCounter();\n};\n\nexport const LoadWishListProducts = async () => {\n  const wishlistItems = getWishlist();\n\n  if (wishlistItems.length === 0) {\n    hideLoader();\n    refs.productsList.innerHTML = '';\n    showNotFoundDiv();\n    return;\n  }\n\n  showLoader();\n  const wishlistProducts = await fetchProductsByIds(wishlistItems);\n  refs.productsList.innerHTML = '';\n  renderProducts(wishlistProducts);\n  hideLoader();\n};\n\n//Iryna Wishlist click handler\n\nexport const addProductByIdToWishlist = () => {\n  if (currentProductId === null) {\n    return;\n  }\n\n  if (isInWishlist(currentProductId)) {\n    removeFromWishlist(currentProductId);\n    iziToast.warning({\n      title: '!',\n      message: 'Товар усунуто зі списку бажань',\n      position: 'topRight',\n    });\n    if (isWishlistPage()) {\n      LoadWishListProducts();\n    }\n  } else {\n    addToWishlist(currentProductId);\n    iziToast.success({\n      title: 'Success',\n      message: 'Товар додано у список бажань!',\n      position: 'topRight',\n    });\n    if (isWishlistPage()) {\n      LoadWishListProducts();\n    }\n    hideNotFoundDiv();\n  }\n  hideLoader();\n  updateWishlistBtnText(currentProductId);\n  updateWishlistCounter();\n};\n\nexport const closeModalWishlist = () => {\n  closeModal();\n};\n"],"names":["refs","BASE_URL","ENDPOINTS","ITEMS_PER_PAGE","CART_KEY","WISHLIST_KEY","renderCategories","data","markup","el","renderProducts","products","id","thumbnail","title","brand","category","price","renderModal","modal","tags","description","shippingInformation","returnPolicy","getCart","saveCart","cart","addToCart","removeFromCart","updateCart","itemId","isInCart","getWishlist","saveWishlist","wishlistIds","addToWishlist","removeFromWishlist","updateedWishlistArray","isInWishlist","THEME_KEY","getTheme","saveTheme","theme","applyTheme","toggleTheme","newTheme","currentProductId","setCurrentProduct","productId","updateCartBtnText","updateWishlistBtnText","activeFirstBtn","firstBtn","toggleActiveClass","elements","activeElement","activeClass","element","clearActiveCategoryBtn","btn","clearProducts","updateCartCounter","counter","updateCartSummary","updateCartTotal","total","sum","product","updateWishlistCounter","wishlist","isWishlistPage","isCartPage","showLoadMoreButton","hideLoadMoreButton","showNotFoundDiv","hideNotFoundDiv","toggleScrollButton","showLoader","hideLoader","axios","fetchCategories","fetchProducts","page","skip","fetchByCategory","fetchModal","fetchProductsByIds","Ids","error","fetchQuery","query","handleEscPress","event","closeModal","handleBackdropClick","openModal","currentPage","selectedCategory","getCategories","getProducts","totalPages","iziToast","handleLoadMoreClick","handleProductsListItemClick","cardId","handleCategoryClick","e","currentCategory","allCategoryBtn","productsData","handleProductsByQuery","handleClearForm","loadCartProducts","cartListItems","closeModalCartlist","addProductByIdToCart","LoadWishListProducts","wishlistItems","wishlistProducts","addProductByIdToWishlist","closeModalWishlist"],"mappings":"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"}