{"version":3,"file":"handlers-Cvt7d0Tm.js","sources":["../../src/js/constants.js","../../src/js/storage.js","../../src/js/refs.js","../../src/js/helpers.js","../../src/js/products-api.js","../../src/js/render-function.js","../../src/cart.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["// API ендпоінти:\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nexport const BASE_URL = 'https://dummyjson.com/';\n\nexport const ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  PRODUCTS_BY_ID: 'products',\n  PRODUCTS_BY_CATEGORY: 'products/category',\n  PRODUCTS_BY_QUERY: 'products/search',\n};\n\nexport const ITEMS_PER_PAGE = 12;\nexport const CART_KEY = 'cart';\nexport const WISHLIST_KEY = 'wishlist';","import { CART_KEY, WISHLIST_KEY } from \"./constants\"\n\nexport const getCart = () => {\n    return JSON.parse(localStorage.getItem(CART_KEY)) || [];\n}\n\nexport const saveCart = cart => {\n    return localStorage.setItem(CART_KEY, JSON.stringify(cart));\n}\n\nexport const addToCart = id => {\n    const cart = getCart();\n    if(!cart.includes(id)) {\n        cart.push(id);\n        saveCart(cart);\n    }\n}\n\nexport const removeFromCart = id => {\n    const updateCart = getCart().filter(itemId => itemId !== id);\n    saveCart(updateCart);\n}\n\nexport const isInCart = id => getCart().includes(id); \n\n// Iryna M.\n// /for wishlist\n\nexport const getWishlist = () => {\n    // повертаємо массив ID продуктів\n    return JSON.parse(localStorage.getItem(WISHLIST_KEY)) || [];\n}\n\nexport const saveWishlist = wishlistIds => {\n    return localStorage.setItem(WISHLIST_KEY, JSON.stringify(wishlistIds));\n}\n\nexport const addToWishlist = id => {\n    console.log('Додаємо до wishlist:', id);\n    const wishlistIds = getWishlist();\n    if(!wishlistIds.includes(id)) {\n        wishlistIds.push(id);\n        saveWishlist(wishlistIds);\n    }\n}\n\nexport const removeFromWishlist = id => {\n    const updateedWishlistArray = getWishlist().filter(itemId => itemId !== id);\n     saveWishlist(updateedWishlistArray);\n}\n\nexport const isInWishlist = id => getWishlist().includes(id); ","import { addToWishlist } from \"./storage\";\n\nexport const refs = {\n  categoryList: document.querySelector('.categories'),\n  productsList: document.querySelector('ul.products'),     \n  notFoundDiv: document.querySelector('.not-found'),\n  modalContainer: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector(\".modal__close-btn\"),\n  form: document.querySelector(\".search-form\"),\n  formBtnClear: document.querySelector(\".search-form__btn-clear\"),\n  modal: document.querySelector('.modal'),\n  addToCartBtn: document.querySelector('.modal-product__btn--cart'),\n  navCounter: document.querySelector('.nav__count'),\n  countCartItem: document.querySelector('[data-count]'),\n  priceCartTotal: document.querySelector('[data-price]'),\n  buyBtn: document.querySelector('.cart-summary__btn'),\n  addToWishlistBtn: document.querySelector('.modal-product__btn--wishlist')\n};\n","import { refs } from './refs';\nimport { getCart, getWishlist, isInWishlist } from './storage';\n\nexport const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n  //   [...refs.categoryList.children].forEach(li => {\n  //     const activeBtn = li.firstElementChild;\n  //     if (activeBtn.textContent.toLowerCase() === 'all') {\n  //       activeBtn.classList.add('categories__btn--active');\n  //     }\n  //   });\n};\n// 6. Підсвітка активної категорії ===\n\nexport const highlightActiveCategory = (activeButton) => {\n  document.querySelectorAll('.categories__btn').forEach(btn => btn.classList.remove('categories__btn--active'));\n  activeButton.classList.add('categories__btn--active');\n};\n\nexport const clearProducts = () => {\n  refs.productsList.innerHTML = \"\";\n}\n\n// cart product counter\n\nexport const updateCartCounter = () => {\n  const counter = document.querySelector('.nav__count');\n  if (!counter) {\n    return;\n  }\n  const cart = getCart();\n  counter.textContent = cart.length;\n};\n\n\nexport const updateCartSummary = products => {\n  if(!Array.isArray(products)) return;\n  if (!refs.countCartItem) return;\n  refs.countCartItem.textContent = products.length;\n};\n\nexport const updateCartTotal = (products) => {\n  if(!Array.isArray(products)) return;\n  if(!refs.priceCartTotal) return;\n  const total = products.reduce((sum, product) => sum + product.price, 0);\n  refs.priceCartTotal.textContent = `$${total.toFixed(2)}`;\n  };\n\n//wishlist \nexport const updateWishlistCounter = () => {\n  const counter = document.querySelector('.wishlist-items-count');\n  if (!counter) {\n    return;\n  }\n  \n  const wishlist = getWishlist();\n  counter.textContent = wishlist.length;\n};\n\nexport const updateWishlistBtnText = (id) => {\n  if(isInWishlist(id)) {\n    refs.addToWishlistBtn.textContent = 'Remove from Wishlist'\n  } else {\n    refs.addToWishlistBtn.textContent = 'Add to Wishlist'\n  }\n}\n","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS, ITEMS_PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchCategories = async () => {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n};\n\nexport const fetchProducts = async page => {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios(\n    `${ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n};\n\nexport const fetchByCategory = async category => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_CATEGORY}/${category}`);\n  return data;\n};\n\n\n// Функція повертає один продукт по його ID\nexport const fetchModal = async (id) => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`);\n  return data;\n};\n\n\n// функція повертає массив продуктів за заданими ID\nexport const fetchProductsByIds = async (Ids) => {\n  try {\n    const { data } = await axios(`${ENDPOINTS.PRODUCTS}?limit=0`);\n    const allProducts = data;\n    const filteredProducts = allProducts.products.filter(product => Ids.includes(String(product.id)));\n    return filteredProducts;\n  } catch (error) {\n    console.error(\"Error fetching products:\", error);\n    return [];\n  } \n};\n\nexport const fetchQuery = async (query, page) => { \n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios(\n    `${ENDPOINTS.PRODUCTS_BY_QUERY}?q=${query}&limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n};\n\n// запит для Сторінка Cart!!\n\n/*export const fetchProductsByIds = async ids => {\n  const promises = ids.map(id =>\n    axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`).then(res => res.data)\n  );\n  return await Promise.all(promises);\n};*/\n","import { refs } from './refs';\n\nexport const renderCategories = data => {\n  //   const allData = ['All', ...data];\n  const markup = data\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>`\n    )\n    .join('');\n\n  refs.categoryList.innerHTML = markup;\n};\n\nexport const renderProducts = (products) => {\n  const markup = products.map(({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category: ${category} </p>\n    <p class=\"products__price\">Price: $${price}</p>\n </li>\n    `).join(\"\");\n\n  refs.productsList.innerHTML = markup;\n};\n\nexport const renderEmptyMessage = (container, message) => {\n  container.innerHTML = `<p class=\"empty-message\">${message}</p>`;\n};\n\nexport const renderModal = (modal) => {\n\n  const { thumbnail, title, tags, description, shippingInformation, returnPolicy, price } = modal;\n  const markup = `\n  <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price:${price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n  `;\n\n  refs.modalContainer.innerHTML = markup;\n};\n\n\n\n","//Логіка сторінки Cart\n\nimport { buyBtnCart, handleProductsListItemClick } from './js/handlers';\nimport * as helpers from './js/helpers';\nimport { fetchProductsByIds } from './js/products-api';\nimport { updateWishlistBtnText } from './js/helpers';\nimport { refs } from './js/refs';\nimport { renderProducts } from './js/render-function';\nimport { getCart, isInCart, } from './js/storage';\n\nexport let currentProductId = null;\nexport const cartData = \"ids\";\n\nexport const setCurrentProduct = productId => {\n    currentProductId = productId;\n  updateCartBtnText();\n  updateWishlistBtnText(currentProductId);\n}\n\nexport const updateCartBtnText = () => {\n    if(currentProductId === null) return;\n\n    if(isInCart(currentProductId)) {\n        refs.addToCartBtn.textContent = 'Remove from Cart'; \n    } else {\n        refs.addToCartBtn.textContent = 'Add to Cart' \n    }\n};\n\nexport const loadCartProducts = async () => {\n     const cartData = getCart();\n    if(!cartData.length) return;\n \n    try {\n        const products = await fetchProductsByIds(cartData);\n        renderProducts(products);\n        helpers.updateCartSummary(products);\n        helpers.updateCartTotal(products);\n    } catch (error) {\n        console.error(\"Помилка завантаження товарів:\", error)\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    if(refs.buyBtn) {\n        refs.buyBtn.addEventListener('click', buyBtnCart);\n    }\n    loadCartProducts();\n})\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    if (refs.productsList) {\n        refs.productsList.addEventListener('click', handleProductsListItemClick);\n      }     \n})\n\n\n\n\n\n\n\n\n","import { refs } from \"./refs\";\nimport { setCurrentProduct } from \"../cart\";\n\nconst handleEscPress = (event) => {\n    \n    if (event.code === \"Escape\") {\n        closeModal();\n    };\n};\n\n\nconst handleBackdropClick = (event) => {\n    if (event.target === refs.modal) {\n        closeModal();\n    }\n};\n\nexport const openModal = (productId) => {\n    refs.modal.classList.add('modal--is-open');\n    document.body.style.overflow = \"hidden\";\n    window.addEventListener(\"keydown\", handleEscPress);\n    refs.modal.addEventListener(\"click\", handleBackdropClick);\n    setCurrentProduct(productId);\n};\n\nexport const closeModal = () => {\n    refs.modal.classList.remove('modal--is-open');\n    document.body.style.overflow = \"\";\n    window.removeEventListener(\"keydown\", handleEscPress);\n    refs.modal.removeEventListener(\"click\", handleBackdropClick);\n};\n\n\n\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { activeFirstBtn, clearProducts, highlightActiveCategory, updateCartCounter, updateCartSummary, updateWishlistCounter, updateCartTotal, updateWishlistBtnText} from './helpers';\nimport { fetchCategories, fetchProducts, fetchModal,  fetchByCategory, fetchQuery  } from './products-api';\nimport { renderCategories, renderProducts, renderEmptyMessage, renderModal } from './render-function';\nimport { refs } from './refs.js';\nimport { openModal } from './modal.js';\nimport { currentProductId, updateCartBtnText } from '../cart.js';\nimport { addToWishlist, addToCart, isInCart, isInWishlist, removeFromCart, removeFromWishlist } from './storage.js';\n\nlet currentPage = 1;\n\nexport const getCategories = async () => {\n  try {\n    const data = await fetchCategories();\n\n    renderCategories(['All', ...data]);\n    activeFirstBtn();\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\nexport const getProducts = async () => {\n  try {\n    const { products, total } = await fetchProducts(currentPage);\n\n    renderProducts(products);\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\n// Модальне вікно\nexport const handleProductsListItemClick = async (event) => {\n  const card = event.target.closest(\".products__item\");\n  const cardId = card.dataset.id;  \n  \n  try {\n    const data = await fetchModal(cardId);\n    openModal(cardId);\n    renderModal(data);\n\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\n//  Клік по категорії ===\nexport const handleCategoryClick = async e => {\n  if (!e.target.classList.contains('categories__btn')) return;\n\n  const currentCategory = e.target.textContent;\n\n  refs.productsList.innerHTML = '';\n\n  try {\n    const data = await fetchByCategory(currentCategory);\n    renderProducts(data.products);\n    highlightActiveCategory(e.target);\n  } catch (err) {\n    iziToast.error({ title: 'Error', message: err.message });\n  }\n};\n\nexport const getProductsByQuery = async event => {\n  event.preventDefault();\n  const query = event.target.elements.searchValue.value.trim();\n\n  if (!query) return;\n\n  try {\n    const { products } = await fetchQuery(query, currentPage);\n\n    if (products.length === 0) {\n      clearProducts();\n      return refs.notFoundDiv.classList.add('not-found--visible');\n    } else {\n      renderProducts(products);\n    }\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\nexport const getClearForm = () => {\n  refs.form.reset();\n  getProducts();\n};\n\n// click add/remove to/from cart\n\nexport const addProductByIdToCart = () => {\n  if (currentProductId === null) {\n    return;\n  }\n\n  if (isInCart(currentProductId)) {\n    removeFromCart(currentProductId);\n  } else {\n    addToCart(currentProductId);\n  }\n\n  updateCartBtnText();\n  updateCartCounter();\n};\n\n\n// click buyBtn\n\nexport const buyBtnCart = () => {\n\n  const cartData = JSON.parse(localStorage.getItem('cart'));\n  if (!Array.isArray(cartData) || cartData.length === 0) {\n    iziToast.warning({\n      title: 'Oops!',\n      message: 'Кошик порожній. Додайте товари перед покупкою.',\n      position: 'topRight',\n    });\n    return;\n  }\n  iziToast.success({\n    title: 'Success',\n    message: 'You successfully bought all products in the cart!',\n    position: 'topRight',\n  });\n  localStorage.removeItem('cart');\n  clearProducts();\n  updateCartSummary([]);\n  updateCartTotal([]);\n};\n\n//Iryna Wishlist click handler\n\nexport const addProductByIdToWishlist = () => {\n  if(currentProductId === null) {\n   return;\n  }  \n\n  if(isInWishlist(currentProductId)) {\n    removeFromWishlist(currentProductId);\n  } else {\n    addToWishlist(currentProductId);\n  }\n\n  updateWishlistBtnText(currentProductId);\n  updateWishlistCounter();\n};\n\n"],"names":["BASE_URL","ENDPOINTS","ITEMS_PER_PAGE","CART_KEY","WISHLIST_KEY","getCart","saveCart","cart","addToCart","id","removeFromCart","updateCart","itemId","isInCart","getWishlist","saveWishlist","wishlistIds","addToWishlist","removeFromWishlist","updateedWishlistArray","isInWishlist","refs","activeFirstBtn","firstBtn","highlightActiveCategory","activeButton","btn","clearProducts","updateCartCounter","counter","updateCartSummary","products","updateCartTotal","total","sum","product","updateWishlistCounter","wishlist","updateWishlistBtnText","axios","fetchCategories","data","fetchProducts","page","skip","fetchByCategory","category","fetchModal","fetchProductsByIds","Ids","error","fetchQuery","query","renderCategories","markup","el","renderProducts","thumbnail","title","brand","price","renderModal","modal","tags","description","shippingInformation","returnPolicy","currentProductId","setCurrentProduct","productId","updateCartBtnText","loadCartProducts","cartData","helpers.updateCartSummary","helpers.updateCartTotal","buyBtnCart","handleProductsListItemClick","handleEscPress","event","closeModal","handleBackdropClick","openModal","currentPage","getCategories","iziToast","getProducts","cardId","handleCategoryClick","e","currentCategory","err","getProductsByQuery","getClearForm","addProductByIdToCart","addProductByIdToWishlist"],"mappings":"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"}