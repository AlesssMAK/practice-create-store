{"version":3,"file":"handlers-B8AqviPj.js","sources":["../../src/js/constants.js","../../src/js/render-function.js","../../src/js/storage.js","../../src/js/refs.js","../../src/js/helpers.js","../../src/js/products-api.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["// API ендпоінти:\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nexport const BASE_URL = 'https://dummyjson.com/';\n\nexport const ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  PRODUCTS_BY_ID: 'products',\n  PRODUCTS_BY_CATEGORY: 'products/category',\n  PRODUCTS_BY_QUERY: 'products/search',\n};\n\nexport const ITEMS_PER_PAGE = 12;\nexport const CART_KEY = 'cart';\nexport const WISHLIST_KEY = 'wishlist';","import { refs } from './refs';\n\nexport const renderCategories = data => {\n  const allData = ['All', ...data];\n  const markup = allData\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>`\n    )\n    .join('');\n\n  refs.categoryList.innerHTML = markup;\n};\n\nexport const renderProducts = products => {\n  const markup = products\n    .map(\n      ({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category: ${category} </p>\n    <p class=\"products__price\">Price: $${price}</p>\n </li>\n    `\n    )\n    .join('');\n\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n};\n\nexport const renderEmptyMessage = (container, message) => {\n  container.innerHTML = `<p class=\"empty-message\">${message}</p>`;\n};\n\nexport const renderModal = modal => {\n  const {\n    thumbnail,\n    title,\n    tags,\n    description,\n    shippingInformation,\n    returnPolicy,\n    price,\n  } = modal;\n  const markup = `\n  <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price:${price} $</p>\n        \n      </div>\n  `;\n\n  refs.modalContainer.innerHTML = markup;\n};\n","import { CART_KEY, WISHLIST_KEY } from './constants';\nimport { renderProducts } from './render-function';\n\nexport const getCart = () => {\n  return JSON.parse(localStorage.getItem(CART_KEY)) || [];\n};\n\nexport const saveCart = cart => {\n  return localStorage.setItem(CART_KEY, JSON.stringify(cart));\n};\n\nexport const addToCart = id => {\n  const cart = getCart();\n  if (!cart.includes(id)) {\n    cart.push(id);\n    saveCart(cart);\n  }\n};\n\nexport const removeFromCart = id => {\n  const updateCart = getCart().filter(itemId => itemId !== id);\n  saveCart(updateCart);\n};\n\nexport const isInCart = id => getCart().includes(id);\n\n// Iryna M.\n// /for wishlist\n\nexport const getWishlist = () => {\n  // повертаємо массив ID продуктів\n  \n  return JSON.parse(localStorage.getItem(WISHLIST_KEY)) || [];\n};\n\nexport const saveWishlist = wishlistIds => {\n  \n  localStorage.setItem(WISHLIST_KEY, JSON.stringify(wishlistIds));\n  console.log(wishlistIds);\n  \n  return wishlistIds;\n};\n\nexport const addToWishlist = id => {\n  console.log('Додаємо до wishlist:', id);\n  const wishlistIds = getWishlist();\n  if (!wishlistIds.includes(id)) {\n    wishlistIds.push(id);\n    saveWishlist(wishlistIds);\n  }\n};\n\nexport const removeFromWishlist = id => {\n  const updateedWishlistArray = getWishlist().filter(itemId => itemId !== id);\n  saveWishlist(updateedWishlistArray);\n  \n};\n\nexport const isInWishlist = id => getWishlist().includes(id);\n\n////Theme\nconst THEME_KEY = 'theme';\n\nexport const getTheme = () => localStorage.getItem(THEME_KEY) || 'light';\n\nexport const saveTheme = theme => localStorage.setItem(THEME_KEY, theme);\n\nexport const applyTheme = theme => {\n  document.documentElement.setAttribute('data-theme', theme);\n  saveTheme(theme);\n};\n\nexport const toggleTheme = () => {\n  const currentTheme = getTheme();\n  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\n  applyTheme(newTheme);\n};\n","import { addToWishlist } from \"./storage\";\n\nexport const refs = {\n  categoryList: document.querySelector('.categories'),\n  productsList: document.querySelector('ul.products'),     \n  notFoundDiv: document.querySelector('.not-found'),\n  modalContainer: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector(\".modal__close-btn\"),\n  form: document.querySelector(\".search-form\"),\n  formBtnClear: document.querySelector(\".search-form__btn-clear\"),\n  modal: document.querySelector('.modal'),\n  addToCartBtn: document.querySelector('.modal-product__btn--cart'),\n  navCounter: document.querySelector('.nav__count'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  countCartItem: document.querySelector('[data-count]'),\n  priceCartTotal: document.querySelector('[data-price]'),\n  buyBtn: document.querySelector('.cart-summary__btn'),\n  addToWishlistBtn: document.querySelector('.modal-product__btn--wishlist')\n};\n","import { refs } from './refs';\nimport { getCart, getWishlist, isInWishlist, isInCart } from './storage';\n\nexport let currentProductId = null;\n\nexport const setCurrentProduct = productId => {\n  currentProductId = productId;\n  updateCartBtnText();\n  updateWishlistBtnText(currentProductId);\n};\n\nexport const updateCartBtnText = () => {\n  if (currentProductId === null) return;\n\n  if (isInCart(currentProductId)) {\n    refs.addToCartBtn.textContent = 'Remove from Cart';\n  } else {\n    refs.addToCartBtn.textContent = 'Add to Cart';\n  }\n};\n\nexport const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n};\n\nexport const toggleActiveClass = (elements, activeElement, activeClass) => {\n  elements.forEach(element => {\n    element.classList.remove(activeClass);\n  });\n  activeElement.classList.add(activeClass);\n};\n\nexport const clearProducts = () => {\n  refs.productsList.innerHTML = '';\n};\n\n// cart product counter\n\nexport const updateCartCounter = () => {\n  const counter = document.querySelector('.nav__count');\n  if (!counter) {\n    return;\n  }\n  const cart = getCart();\n  counter.textContent = cart.length;\n};\n\nexport const updateCartSummary = products => {\n  if (!Array.isArray(products)) return;\n  if (!refs.countCartItem) return;\n  refs.countCartItem.textContent = products.length;\n};\n\nexport const updateCartTotal = products => {\n  if (!Array.isArray(products)) return;\n  if (!refs.priceCartTotal) return;\n  const total = products.reduce((sum, product) => sum + product.price, 0);\n  refs.priceCartTotal.textContent = `$${total.toFixed(2)}`;\n};\n\n//wishlist\nexport const updateWishlistCounter = () => {\n  const counter = document.querySelector('.wishlist-items-count');\n  if (!counter) {\n    return;\n  }\n\n  const wishlist = getWishlist();\n  counter.textContent = wishlist.length;\n};\n\nexport const updateWishlistBtnText = id => {\n  if (isInWishlist(id)) {\n    refs.addToWishlistBtn.textContent = 'Remove from Wishlist';\n  } else {\n    refs.addToWishlistBtn.textContent = 'Add to Wishlist';\n  }\n};\n\nexport const isWishlistPage = () =>\n  window.location.pathname.includes('wishlist');\nexport const isCartPage = () => window.location.pathname.includes('cart');\n\nexport const showLoadMoreButton = () => {\n  refs.loadMoreBtn.classList.remove('is-hidden');\n};\n\nexport const hideLoadMoreButton = () => {\n  refs.loadMoreBtn.classList.add('is-hidden');\n};\n\nexport const showNotFoundDiv = () => {\n  refs.notFoundDiv.classList.add('not-found--visible');\n};\n\nexport const hideNotFoundDiv = () => {\n  refs.notFoundDiv.classList.remove('not-found--visible');\n};\n","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS, ITEMS_PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchCategories = async () => {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n};\n\nexport const fetchProducts = async page => {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios(\n    `${ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n};\n\nexport const fetchByCategory = async category => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_CATEGORY}/${category}`);\n  return data;\n};\n\n\n// Функція повертає один продукт по його ID\nexport const fetchModal = async (id) => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`);\n  return data;\n};\n\n\n// функція повертає массив продуктів за заданими ID\nexport const fetchProductsByIds = async (Ids) => {\n  try {\n    const { data } = await axios(`${ENDPOINTS.PRODUCTS}?limit=0`);\n    const allProducts = data;\n    const filteredProducts = allProducts.products.filter(product => Ids.includes(String(product.id)));\n    return filteredProducts;\n  } catch (error) {\n    console.error(\"Error fetching products:\", error);\n    return [];\n  } \n};\n\nexport const fetchQuery = async (query) => { \n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_QUERY}?q=${query}`);\n  return data;\n};\n\n// запит для Сторінка Cart!!\n\n/*export const fetchProductsByIds = async ids => {\n  const promises = ids.map(id =>\n    axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`).then(res => res.data)\n  );\n  return await Promise.all(promises);\n};*/\n","import { refs } from \"./refs\";\nimport { setCurrentProduct } from \"./helpers\";\n\nconst handleEscPress = (event) => {\n    \n    if (event.code === \"Escape\") {\n        closeModal();\n    };\n};\n\n\nconst handleBackdropClick = (event) => {\n    if (event.target === refs.modal) {\n        closeModal();\n    }\n};\n\nexport const openModal = (productId) => {\n    refs.modal.classList.add('modal--is-open');\n    document.body.style.overflow = \"hidden\";\n    window.addEventListener(\"keydown\", handleEscPress);\n    refs.modal.addEventListener(\"click\", handleBackdropClick);\n    setCurrentProduct(productId);\n};\n\nexport const closeModal = () => {\n    refs.modal.classList.remove('modal--is-open');\n    document.body.style.overflow = \"\";\n    window.removeEventListener(\"keydown\", handleEscPress);\n    refs.modal.removeEventListener(\"click\", handleBackdropClick);\n};\n\n\n\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport {\n  currentProductId,\n  updateCartBtnText,\n  activeFirstBtn,\n  clearProducts,\n  updateCartCounter,\n  updateCartSummary,\n  updateCartTotal,\n  updateWishlistCounter,\n  updateWishlistBtnText,\n  showLoadMoreButton,\n  hideLoadMoreButton,\n  toggleActiveClass,\n  hideNotFoundDiv,\n  showNotFoundDiv,\n  isWishlistPage,\n  isCartPage,\n} from './helpers';\nimport {\n  fetchCategories,\n  fetchProducts,\n  fetchModal,\n  fetchByCategory,\n  fetchQuery,\n  fetchProductsByIds,\n} from './products-api';\nimport {\n  renderCategories,\n  renderProducts,\n  renderModal,\n} from './render-function';\nimport { refs } from './refs.js';\nimport { closeModal, openModal } from './modal.js';\nimport {\n  addToWishlist,\n  addToCart,\n  isInCart,\n  isInWishlist,\n  removeFromCart,\n  removeFromWishlist,\n  getWishlist,\n  getCart,\n} from './storage.js';\nimport { ITEMS_PER_PAGE } from './constants.js';\n\nlet currentPage = 1;\nlet currentSearchQuery = '';\nlet selectedCategory = 'All';\n\nexport const getCategories = async () => {\n  try {\n    const data = await fetchCategories();\n\n    renderCategories(data);\n\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getProducts = async () => {\n  try {\n    currentPage = 1;\n    const { products, total } = await fetchProducts(currentPage);\n\n    renderProducts(products);\n\n    const totalPages = Math.ceil(total / ITEMS_PER_PAGE);\n\n    if (currentPage >= totalPages) {\n      iziToast.info({\n        message: \"We're sorry, but you've reached the end.\",\n        position: 'topRight',\n      });\n    } else {\n      showLoadMoreButton();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const handleLoadMoreClick = async () => {\n  if (selectedCategory !== 'All') return;\n  currentPage++;\n  hideLoadMoreButton();\n\n  try {\n    const { products, total } = await fetchProducts(currentPage);\n    renderProducts(products);\n\n    const totalPages = Math.ceil(total / ITEMS_PER_PAGE);\n    if (currentPage < totalPages) {\n      showLoadMoreButton();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// Модальне вікно\nexport const handleProductsListItemClick = async event => {\n  const card = event.target.closest('.products__item');\n  const cardId = card.dataset.id;\n\n  try {\n    const data = await fetchModal(cardId);\n    openModal(cardId);\n    renderModal(data);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//  Клік по категорії ===\nexport const handleCategoryClick = async e => {\n  if (!e.target.classList.contains('categories__btn')) return;\n\n  hideLoadMoreButton();\n  clearProducts();\n  currentPage = 1;\n\n  try {\n    const currentCategory = e.target.textContent;\n    selectedCategory = currentCategory;\n    const allCategoryBtn = document.querySelectorAll('.categories__btn');\n    toggleActiveClass(allCategoryBtn, e.target, 'categories__btn--active');\n    let productsData;\n    if (currentCategory === 'All') {\n      currentPage = 1;\n      productsData = await fetchProducts(currentPage);\n      showLoadMoreButton();\n    } else {\n      productsData = await fetchByCategory(currentCategory);\n    }\n\n    if (productsData.products.length > 0) {\n      renderProducts(productsData.products);\n      hideLoadMoreButton();\n\n      if (currentCategory === 'All') {\n        const totalPages = Math.ceil(productsData.total / ITEMS_PER_PAGE);\n        if (currentPage < totalPages) showLoadMoreButton();\n      }\n    } else {\n      showNotFoundDiv();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// пошук продуктів за ключовим словом - Олексій\nexport const handleProductsByQuery = async event => {\n  event.preventDefault();\n  const query = event.target.elements.searchValue.value.trim();\n\n  if (!query) return;\n  clearProducts();\n  hideLoadMoreButton();\n  try {\n    const { products } = await fetchQuery(query);\n\n    if (products.length === 0) {\n      showNotFoundDiv();\n    } else {\n      renderProducts(products);\n      hideNotFoundDiv();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// очищення форми - Олексій\nexport const handleClearForm = () => {\n  clearProducts();\n  hideNotFoundDiv();\n  refs.form.reset();\n  getProducts();\n};\n\n/*----------------------------Cart----------------------------*/\n\nexport const loadCartProducts = async () => {\n  const cartListItems = getCart();\n\n  if (!cartListItems.length) {\n    refs.productsList.innerHTML = '';\n    showNotFoundDiv();\n    updateCartSummary([]);\n    updateCartTotal([]);\n    return;\n  }\n\n  const products = await fetchProductsByIds(cartListItems);\n  refs.productsList.innerHTML = '';\n  renderProducts(products);\n  updateCartSummary(products);\n  updateCartTotal(products);\n  hideNotFoundDiv();\n};\n\nexport const closeModalCartlist = () => {\n  closeModal();\n};\n\n/*----------------------------Whishlist----------------------------*/\n\n// click add/remove to/from cart\n\nexport const addProductByIdToCart = () => {\n  if (currentProductId === null) {\n    return;\n  }\n\n  if (isInCart(currentProductId)) {\n    removeFromCart(currentProductId);\n    if (isCartPage()) {\n      loadCartProducts();\n    }\n  } else {\n    addToCart(currentProductId);\n    if (isCartPage()) {\n      loadCartProducts();\n    }\n  }\n\n  updateCartBtnText();\n  updateCartCounter();\n};\n\nexport const LoadWishListProducts = async () => {\n  const wishlistItems = getWishlist();\n\n  if (wishlistItems.length === 0) {\n    refs.productsList.innerHTML = '';\n    showNotFoundDiv();\n    return;\n  }\n\n  const wishlistProducts = await fetchProductsByIds(wishlistItems);\n  refs.productsList.innerHTML = '';\n\n  renderProducts(wishlistProducts);\n};\n\n//Iryna Wishlist click handler\n\nexport const addProductByIdToWishlist = () => {\n  if (currentProductId === null) {\n    return;\n  }\n\n  if (isInWishlist(currentProductId)) {\n    removeFromWishlist(currentProductId);\n    if (isWishlistPage()) {\n      LoadWishListProducts();\n    }\n  } else {\n    addToWishlist(currentProductId);\n    if (isWishlistPage()) {\n      LoadWishListProducts();\n    }\n    hideNotFoundDiv();\n  }\n\n  updateWishlistBtnText(currentProductId);\n  updateWishlistCounter();\n};\n\nexport const closeModalWishlist = () => {\n  closeModal();\n};\n"],"names":["BASE_URL","ENDPOINTS","ITEMS_PER_PAGE","CART_KEY","WISHLIST_KEY","renderCategories","data","markup","el","refs","renderProducts","products","id","thumbnail","title","brand","category","price","renderModal","modal","tags","description","shippingInformation","returnPolicy","getCart","saveCart","cart","addToCart","removeFromCart","updateCart","itemId","isInCart","getWishlist","saveWishlist","wishlistIds","addToWishlist","removeFromWishlist","updateedWishlistArray","isInWishlist","THEME_KEY","getTheme","saveTheme","theme","applyTheme","toggleTheme","newTheme","currentProductId","setCurrentProduct","productId","updateCartBtnText","updateWishlistBtnText","activeFirstBtn","firstBtn","toggleActiveClass","elements","activeElement","activeClass","element","clearProducts","updateCartCounter","counter","updateCartSummary","updateCartTotal","total","sum","product","updateWishlistCounter","wishlist","isWishlistPage","isCartPage","showLoadMoreButton","hideLoadMoreButton","showNotFoundDiv","hideNotFoundDiv","axios","fetchCategories","fetchProducts","page","skip","fetchByCategory","fetchModal","fetchProductsByIds","Ids","error","fetchQuery","query","handleEscPress","event","closeModal","handleBackdropClick","openModal","currentPage","selectedCategory","getCategories","getProducts","totalPages","iziToast","handleLoadMoreClick","handleProductsListItemClick","cardId","handleCategoryClick","e","currentCategory","allCategoryBtn","productsData","handleProductsByQuery","handleClearForm","loadCartProducts","cartListItems","closeModalCartlist","addProductByIdToCart","LoadWishListProducts","wishlistItems","wishlistProducts","addProductByIdToWishlist","closeModalWishlist"],"mappings":"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"}