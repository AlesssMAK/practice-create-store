{"version":3,"file":"helpers-CnUBszac.js","sources":["../../src/js/constants.js","../../src/js/products-api.js","../../src/js/storage.js","../../src/js/refs.js","../../src/js/render-function.js","../../src/js/modal.js","../../src/js/handlers.js","../../src/js/helpers.js"],"sourcesContent":["// API ендпоінти:\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nexport const BASE_URL = 'https://dummyjson.com/';\n\nexport const ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  PRODUCTS_BY_ID: 'products',\n  PRODUCTS_BY_CATEGORY: 'products/category',\n  PRODUCTS_BY_QUERY: 'products/search',\n};\n\nexport const ITEMS_PER_PAGE = 12;\nexport const CART_KEY = 'cart';\nexport const WISHLIST_KEY = 'wishlist';","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS, ITEMS_PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchCategories = async () => {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n};\n\nexport const fetchProducts = async page => {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios(\n    `${ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n};\n\nexport const fetchByCategory = async category => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_CATEGORY}/${category}`);\n  return data;\n};\n\n\n// Функція повертає один продукт по його ID\nexport const fetchModal = async (id) => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`);\n  return data;\n};\n\n\n// функція повертає массив продуктів за заданими ID\nexport const fetchProductsByIds = async (Ids) => {\n  try {\n    const { data } = await axios(`${ENDPOINTS.PRODUCTS}?limit=0`);\n    const allProducts = data;\n    const filteredProducts = allProducts.products.filter(product => Ids.includes(String(product.id)));\n    return filteredProducts;\n  } catch (error) {\n    console.error(\"Error fetching products:\", error);\n    return [];\n  } \n};\n\nexport const fetchQuery = async (query) => { \n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_QUERY}?q=${query}`);\n  return data;\n};\n\n// запит для Сторінка Cart!!\n\n/*export const fetchProductsByIds = async ids => {\n  const promises = ids.map(id =>\n    axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`).then(res => res.data)\n  );\n  return await Promise.all(promises);\n};*/\n","import { CART_KEY, WISHLIST_KEY } from \"./constants\"\n\nexport const getCart = () => {\n    return JSON.parse(localStorage.getItem(CART_KEY)) || [];\n}\n\nexport const saveCart = cart => {\n    return localStorage.setItem(CART_KEY, JSON.stringify(cart));\n}\n\nexport const addToCart = id => {\n    const cart = getCart();\n    if(!cart.includes(id)) {\n        cart.push(id);\n        saveCart(cart);\n    }\n}\n\nexport const removeFromCart = id => {\n    const updateCart = getCart().filter(itemId => itemId !== id);\n    saveCart(updateCart);\n}\n\nexport const isInCart = id => getCart().includes(id); \n\n// Iryna M.\n// /for wishlist\n\nexport const getWishlist = () => {\n    // повертаємо массив ID продуктів\n    return JSON.parse(localStorage.getItem(WISHLIST_KEY)) || [];\n}\n\nexport const saveWishlist = wishlistIds => {\n    return localStorage.setItem(WISHLIST_KEY, JSON.stringify(wishlistIds));\n}\n\nexport const addToWishlist = id => {\n    console.log('Додаємо до wishlist:', id);\n    const wishlistIds = getWishlist();\n    if(!wishlistIds.includes(id)) {\n        wishlistIds.push(id);\n        saveWishlist(wishlistIds);\n    }\n}\n\nexport const removeFromWishlist = id => {\n    const updateedWishlistArray = getWishlist().filter(itemId => itemId !== id);\n     saveWishlist(updateedWishlistArray);\n}\n\nexport const isInWishlist = id => getWishlist().includes(id); ","import { addToWishlist } from \"./storage\";\n\nexport const refs = {\n  categoryList: document.querySelector('.categories'),\n  productsList: document.querySelector('ul.products'),     \n  notFoundDiv: document.querySelector('.not-found'),\n  modalContainer: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector(\".modal__close-btn\"),\n  form: document.querySelector(\".search-form\"),\n  formBtnClear: document.querySelector(\".search-form__btn-clear\"),\n  modal: document.querySelector('.modal'),\n  addToCartBtn: document.querySelector('.modal-product__btn--cart'),\n  navCounter: document.querySelector('.nav__count'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  countCartItem: document.querySelector('[data-count]'),\n  priceCartTotal: document.querySelector('[data-price]'),\n  buyBtn: document.querySelector('.cart-summary__btn'),\n  addToWishlistBtn: document.querySelector('.modal-product__btn--wishlist')\n};\n","import { refs } from './refs';\n\nexport const renderCategories = data => {\n    const allData = ['All', ...data];\n  const markup = allData\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>`\n    )\n    .join('');\n\n  refs.categoryList.innerHTML = markup;\n};\n\nexport const renderProducts = (products) => {\n  const markup = products.map(({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category: ${category} </p>\n    <p class=\"products__price\">Price: $${price}</p>\n </li>\n    `).join(\"\");\n\n  refs.productsList.insertAdjacentHTML(\"beforeend\", markup);\n};\n\n export const renderEmptyMessage = (container, message) => {\n   container.innerHTML = `<p class=\"empty-message\">${message}</p>`;\n };\n\nexport const renderModal = (modal) => {\n\n  const { thumbnail, title, tags, description, shippingInformation, returnPolicy, price } = modal;\n  const markup = `\n  <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price:${price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n  `;\n\n  refs.modalContainer.innerHTML = markup;\n};\n\n\n\n","import { refs } from \"./refs\";\nimport { setCurrentProduct } from \"./helpers\";\n\nconst handleEscPress = (event) => {\n    \n    if (event.code === \"Escape\") {\n        closeModal();\n    };\n};\n\n\nconst handleBackdropClick = (event) => {\n    if (event.target === refs.modal) {\n        closeModal();\n    }\n};\n\nexport const openModal = (productId) => {\n    refs.modal.classList.add('modal--is-open');\n    document.body.style.overflow = \"hidden\";\n    window.addEventListener(\"keydown\", handleEscPress);\n    refs.modal.addEventListener(\"click\", handleBackdropClick);\n    setCurrentProduct(productId);\n};\n\nexport const closeModal = () => {\n    refs.modal.classList.remove('modal--is-open');\n    document.body.style.overflow = \"\";\n    window.removeEventListener(\"keydown\", handleEscPress);\n    refs.modal.removeEventListener(\"click\", handleBackdropClick);\n};\n\n\n\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { currentProductId, updateCartBtnText, activeFirstBtn, clearProducts, updateCartCounter, updateCartSummary, updateCartTotal, updateWishlistCounter, updateWishlistBtnText, showLoadMoreButton, hideLoadMoreButton, toggleActiveClass, hideNotFoundDiv, showNotFoundDiv} from './helpers';\nimport { fetchCategories, fetchProducts, fetchModal,  fetchByCategory, fetchQuery  } from './products-api';\nimport { renderCategories, renderProducts, renderModal } from './render-function';\nimport { refs } from './refs.js';\nimport { openModal } from './modal.js';\nimport { addToWishlist, addToCart, isInCart, isInWishlist, removeFromCart, removeFromWishlist } from './storage.js';\nimport { ITEMS_PER_PAGE } from './constants.js';\n\nlet currentPage = 1;\nlet currentSearchQuery = \"\";\nlet selectedCategory = 'All';\n\n\nexport const getCategories = async () => {\n  try {\n    const data = await fetchCategories();\n    \n    renderCategories(data);\n\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getProducts = async () => {\n  try {\n    currentPage = 1;\n    const { products, total } = await fetchProducts(currentPage);\n\n    renderProducts(products);\n\n    const totalPages = Math.ceil(total / ITEMS_PER_PAGE);\n\n    if (currentPage >= totalPages) {\n      iziToast.info({\n        message: \"We're sorry, but you've reached the end.\",\n        position: \"topRight\",\n      });\n    } else {\n      showLoadMoreButton();\n    };\n\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const handleLoadMoreClick = async () => {\n  if (selectedCategory !== 'All') return;\n  currentPage++;\n  hideLoadMoreButton();\n\n  try {\n    const { products, total } = await fetchProducts(currentPage);\n    renderProducts(products);\n\n    const totalPages = Math.ceil(total / ITEMS_PER_PAGE);\n    if (currentPage < totalPages) {\n      showLoadMoreButton();\n    }\n\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// Модальне вікно\nexport const handleProductsListItemClick = async (event) => {\n  const card = event.target.closest(\".products__item\");\n  const cardId = card.dataset.id;  \n  \n  try {\n    const data = await fetchModal(cardId);\n    openModal(cardId);\n    renderModal(data);\n\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//  Клік по категорії ===\nexport const handleCategoryClick = async e => {\n  if (!e.target.classList.contains('categories__btn')) return;\n\n  hideLoadMoreButton();\n  clearProducts();\n  currentPage = 1;\n\n  try {\n    const currentCategory = e.target.textContent;\n    selectedCategory = currentCategory;\n    const allCategoryBtn = document.querySelectorAll(\".categories__btn\");\n    toggleActiveClass(allCategoryBtn, e.target, \"categories__btn--active\");\n    let productsData;\n    if (currentCategory === \"All\") {\n      currentPage = 1;\n      productsData = await fetchProducts(currentPage);\n      showLoadMoreButton();\n    } else {\n      productsData = await fetchByCategory(currentCategory);\n    };\n\n    if (productsData.products.length > 0) {\n      renderProducts(productsData.products);\n      hideLoadMoreButton();\n\n    if (currentCategory === 'All') {\n        const totalPages = Math.ceil(productsData.total / ITEMS_PER_PAGE);\n        if (currentPage < totalPages) showLoadMoreButton();\n      }\n    } else {\n      showNotFoundDiv();\n  }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n\n// пошук продуктів за ключовим словом - Олексій\nexport const handleProductsByQuery = async (event) => { \n  event.preventDefault();\n  const query = event.target.elements.searchValue.value.trim();\n  \n  if (!query) return;\n  clearProducts();\n  hideLoadMoreButton();\ntry {\n    const { products } = await fetchQuery(query);\n    \n    if (products.length === 0) {\n      showNotFoundDiv();\n    } else {\n      renderProducts(products);\n      hideNotFoundDiv();\n    };    \n  } catch (error) {\nconsole.log(error);\n}\n};\n\n// очищення форми - Олексій\nexport const handleClearForm = () => {\n  clearProducts();\n  hideNotFoundDiv();\n  refs.form.reset();\n  getProducts();\n};\n\n// click add/remove to/from cart\n\nexport const addProductByIdToCart = () => {\n  if (currentProductId === null) {\n    return;\n  }\n\n  if (isInCart(currentProductId)) {\n    removeFromCart(currentProductId);\n  } else {\n    addToCart(currentProductId);\n  }\n\n  updateCartBtnText();\n  updateCartCounter();\n};\n\n\n// click buyBtn\n\nexport const buyBtnCart = () => {\n\n  const cartData = JSON.parse(localStorage.getItem('cart'));\n  if (!Array.isArray(cartData) || cartData.length === 0) {\n    iziToast.warning({\n      title: 'Oops!',\n      message: 'Кошик порожній. Додайте товари перед покупкою.',\n      position: 'topRight',\n    });\n    return;\n  }\n  iziToast.success({\n    title: 'Success',\n    message: 'You successfully bought all products in the cart!',\n    position: 'topRight',\n  });\n  localStorage.removeItem('cart');\n  clearProducts();\n  updateCartSummary([]);\n  updateCartTotal([]);\n};\n\n//Iryna Wishlist click handler\n\nexport const addProductByIdToWishlist = () => {\n  if(currentProductId === null) {\n   return;\n  }  \n\n  if(isInWishlist(currentProductId)) {\n    removeFromWishlist(currentProductId);\n  } else {\n    addToWishlist(currentProductId);\n  }\n\n  updateWishlistBtnText(currentProductId);\n  updateWishlistCounter();\n};\n\n  \n","\nimport { getProducts } from './handlers';\nimport { refs } from './refs';\nimport { getCart, getWishlist, isInWishlist, isInCart } from './storage';\n\nexport let currentProductId = null;\n\nexport const setCurrentProduct = productId => {\n    currentProductId = productId;\n  updateCartBtnText();\n  updateWishlistBtnText(currentProductId);\n}\n\nexport const updateCartBtnText = () => {\n    if(currentProductId === null) return;\n\n    if(isInCart(currentProductId)) {\n        refs.addToCartBtn.textContent = 'Remove from Cart'; \n    } else {\n        refs.addToCartBtn.textContent = 'Add to Cart' \n    }\n};\n\nexport const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n    // firstBtn.addEventListener(\"click\", () => {\n    //   getProducts();\n    // });\n  }\n  //   [...refs.categoryList.children].forEach(li => {\n  //     const activeBtn = li.firstElementChild;\n  //     if (activeBtn.textContent.toLowerCase() === 'all') {\n  //       activeBtn.classList.add('categories__btn--active');\n  //     }\n  //   });\n};\n// 6. Підсвітка активної категорії ===\n\nexport const toggleActiveClass = (elements, activeElement, activeClass) => {\n  elements.forEach(element => {\n    element.classList.remove(activeClass);\n  });\n  activeElement.classList.add(activeClass);\n };\n\nexport const clearProducts = () => {\n  refs.productsList.innerHTML = \"\";\n}\n\n// cart product counter\n\nexport const updateCartCounter = () => {\n  const counter = document.querySelector('.nav__count');\n  if (!counter) {\n    return;\n  }\n  const cart = getCart();\n  counter.textContent = cart.length;\n};\n\n\nexport const updateCartSummary = products => {\n  if(!Array.isArray(products)) return;\n  if (!refs.countCartItem) return;\n  refs.countCartItem.textContent = products.length;\n};\n\nexport const updateCartTotal = (products) => {\n  if(!Array.isArray(products)) return;\n  if(!refs.priceCartTotal) return;\n  const total = products.reduce((sum, product) => sum + product.price, 0);\n  refs.priceCartTotal.textContent = `$${total.toFixed(2)}`;\n  };\n\n//wishlist \nexport const updateWishlistCounter = () => {\n  const counter = document.querySelector('.wishlist-items-count');\n  if (!counter) {\n    return;\n  }\n  \n  const wishlist = getWishlist();\n  counter.textContent = wishlist.length;\n};\n\nexport const updateWishlistBtnText = (id) => {\n  if(isInWishlist(id)) {\n    refs.addToWishlistBtn.textContent = 'Remove from Wishlist'\n  } else {\n    refs.addToWishlistBtn.textContent = 'Add to Wishlist'\n  }\n};\n\nexport const showLoadMoreButton = () => {\n    refs.loadMoreBtn.classList.remove(\"is-hidden\");\n};\n\nexport const hideLoadMoreButton = () => {\n    refs.loadMoreBtn.classList.add(\"is-hidden\");\n};\n\nexport const showNotFoundDiv = () => { \n  refs.notFoundDiv.classList.add(\"not-found--visible\");\n};\n\nexport const hideNotFoundDiv = () => { \n  refs.notFoundDiv.classList.remove(\"not-found--visible\");\n};\n"],"names":["BASE_URL","ENDPOINTS","ITEMS_PER_PAGE","CART_KEY","WISHLIST_KEY","axios","fetchCategories","data","fetchProducts","page","skip","fetchByCategory","category","fetchModal","id","fetchProductsByIds","Ids","product","error","fetchQuery","query","getCart","saveCart","cart","addToCart","removeFromCart","updateCart","itemId","isInCart","getWishlist","saveWishlist","wishlistIds","addToWishlist","removeFromWishlist","updateedWishlistArray","isInWishlist","refs","renderCategories","markup","el","renderProducts","products","thumbnail","title","brand","price","renderEmptyMessage","container","message","renderModal","modal","tags","description","shippingInformation","returnPolicy","handleEscPress","event","closeModal","handleBackdropClick","openModal","productId","setCurrentProduct","currentPage","selectedCategory","getCategories","activeFirstBtn","getProducts","total","totalPages","iziToast","showLoadMoreButton","handleLoadMoreClick","hideLoadMoreButton","handleProductsListItemClick","cardId","handleCategoryClick","e","clearProducts","currentCategory","allCategoryBtn","toggleActiveClass","productsData","showNotFoundDiv","handleProductsByQuery","hideNotFoundDiv","handleClearForm","addProductByIdToCart","currentProductId","updateCartBtnText","updateCartCounter","buyBtnCart","cartData","updateCartSummary","updateCartTotal","addProductByIdToWishlist","updateWishlistBtnText","updateWishlistCounter","firstBtn","elements","activeElement","activeClass","element","counter","sum","wishlist"],"mappings":"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"}