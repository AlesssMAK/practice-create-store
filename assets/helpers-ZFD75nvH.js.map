{"version":3,"file":"helpers-ZFD75nvH.js","sources":["../../src/js/constants.js","../../src/js/products-api.js","../../src/js/storage.js","../../src/js/refs.js","../../src/js/render-function.js","../../src/cart.js","../../src/js/modal.js","../../src/js/handlers.js","../../src/js/helpers.js"],"sourcesContent":["// API ендпоінти:\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nexport const BASE_URL = 'https://dummyjson.com/';\n\nexport const ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  PRODUCTS_BY_ID: 'products',\n  PRODUCTS_BY_CATEGORY: 'products/category',\n  PRODUCTS_BY_QUERY: 'products/search',\n};\n\nexport const ITEMS_PER_PAGE = 12;\nexport const CART_KEY = 'cart';\nexport const WISHLIST_KEY = 'wishlist';","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS, ITEMS_PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchCategories = async () => {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n};\n\nexport const fetchProducts = async page => {\n  const skip = (page - 1) * ITEMS_PER_PAGE;\n  const { data } = await axios(\n    `${ENDPOINTS.PRODUCTS}?limit=${ITEMS_PER_PAGE}&skip=${skip}`\n  );\n  return data;\n};\n\nexport const fetchByCategory = async category => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_CATEGORY}/${category}`);\n  return data;\n};\n\n\n// Функція повертає один продукт по його ID\nexport const fetchModal = async (id) => {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`);\n  return data;\n};\n\n\n// функція повертає массив продуктів за заданими ID\nexport const fetchProductsByIds = async (Ids) => {\n  try {\n    const { data } = await axios(`${ENDPOINTS.PRODUCTS}?limit=0`);\n    const allProducts = data;\n    const filteredProducts = allProducts.products.filter(product => Ids.includes(String(product.id)));\n    return filteredProducts;\n  } catch (error) {\n    console.error(\"Error fetching products:\", error);\n    return [];\n  } \n};\n\nexport const fetchQuery = async (query) => { \n  const { data } = await axios(`${ENDPOINTS.PRODUCTS_BY_QUERY}?q=${query}`);\n  return data;\n};\n\n// запит для Сторінка Cart!!\n\n/*export const fetchProductsByIds = async ids => {\n  const promises = ids.map(id =>\n    axios(`${ENDPOINTS.PRODUCTS_BY_ID}/${id}`).then(res => res.data)\n  );\n  return await Promise.all(promises);\n};*/\n","import { CART_KEY, WISHLIST_KEY } from \"./constants\"\n\nexport const getCart = () => {\n    return JSON.parse(localStorage.getItem(CART_KEY)) || [];\n}\n\nexport const saveCart = cart => {\n    return localStorage.setItem(CART_KEY, JSON.stringify(cart));\n}\n\nexport const addToCart = id => {\n    const cart = getCart();\n    if(!cart.includes(id)) {\n        cart.push(id);\n        saveCart(cart);\n    }\n}\n\nexport const removeFromCart = id => {\n    const updateCart = getCart().filter(itemId => itemId !== id);\n    saveCart(updateCart);\n}\n\nexport const isInCart = id => getCart().includes(id); \n\n// Iryna M.\n// /for wishlist\n\nexport const getWishlist = () => {\n    // повертаємо массив ID продуктів\n    return JSON.parse(localStorage.getItem(WISHLIST_KEY)) || [];\n}\n\nexport const saveWishlist = wishlistIds => {\n    return localStorage.setItem(WISHLIST_KEY, JSON.stringify(wishlistIds));\n}\n\nexport const addToWishlist = id => {\n    console.log('Додаємо до wishlist:', id);\n    const wishlistIds = getWishlist();\n    if(!wishlistIds.includes(id)) {\n        wishlistIds.push(id);\n        saveWishlist(wishlistIds);\n    }\n}\n\nexport const removeFromWishlist = id => {\n    const updateedWishlistArray = getWishlist().filter(itemId => itemId !== id);\n     saveWishlist(updateedWishlistArray);\n}\n\nexport const isInWishlist = id => getWishlist().includes(id); ","import { addToWishlist } from \"./storage\";\n\nexport const refs = {\n  categoryList: document.querySelector('.categories'),\n  productsList: document.querySelector('ul.products'),     \n  notFoundDiv: document.querySelector('.not-found'),\n  modalContainer: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector(\".modal__close-btn\"),\n  form: document.querySelector(\".search-form\"),\n  formBtnClear: document.querySelector(\".search-form__btn-clear\"),\n  modal: document.querySelector('.modal'),\n  addToCartBtn: document.querySelector('.modal-product__btn--cart'),\n  navCounter: document.querySelector('.nav__count'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  countCartItem: document.querySelector('[data-count]'),\n  priceCartTotal: document.querySelector('[data-price]'),\n  buyBtn: document.querySelector('.cart-summary__btn'),\n  addToWishlistBtn: document.querySelector('.modal-product__btn--wishlist')\n};\n","import { refs } from './refs';\n\nexport const renderCategories = data => {\n    const allData = ['All', ...data];\n  const markup = allData\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>`\n    )\n    .join('');\n\n  refs.categoryList.innerHTML = markup;\n};\n\nexport const renderProducts = (products) => {\n  const markup = products.map(({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category: ${category} </p>\n    <p class=\"products__price\">Price: $${price}</p>\n </li>\n    `).join(\"\");\n\n  refs.productsList.insertAdjacentHTML(\"beforeend\", markup);\n};\n\nexport const renderEmptyMessage = (container, message) => {\n  container.innerHTML = `<p class=\"empty-message\">${message}</p>`;\n};\n\nexport const renderModal = (modal) => {\n\n  const { thumbnail, title, tags, description, shippingInformation, returnPolicy, price } = modal;\n  const markup = `\n  <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price:${price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n  `;\n\n  refs.modalContainer.innerHTML = markup;\n};\n\n\n\n","//Логіка сторінки Cart\n\nimport { buyBtnCart, handleProductsListItemClick } from './js/handlers';\nimport * as helpers from './js/helpers';\nimport { fetchProductsByIds } from './js/products-api';\nimport { updateWishlistBtnText } from './js/helpers';\nimport { refs } from './js/refs';\nimport { renderProducts } from './js/render-function';\nimport { getCart, isInCart, } from './js/storage';\n\nexport let currentProductId = null;\nexport const cartData = \"ids\";\n\nexport const setCurrentProduct = productId => {\n    currentProductId = productId;\n  updateCartBtnText();\n  updateWishlistBtnText(currentProductId);\n}\n\nexport const updateCartBtnText = () => {\n    if(currentProductId === null) return;\n\n    if(isInCart(currentProductId)) {\n        refs.addToCartBtn.textContent = 'Remove from Cart'; \n    } else {\n        refs.addToCartBtn.textContent = 'Add to Cart' \n    }\n};\n\nexport const loadCartProducts = async () => {\n     const cartData = getCart();\n    if(!cartData.length) return;\n \n    try {\n        const products = await fetchProductsByIds(cartData);\n        renderProducts(products);\n        helpers.updateCartSummary(products);\n        helpers.updateCartTotal(products);\n    } catch (error) {\n        console.error(\"Помилка завантаження товарів:\", error)\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    if(refs.buyBtn) {\n        refs.buyBtn.addEventListener('click', buyBtnCart);\n    }\n    loadCartProducts();\n})\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    if (refs.productsList) {\n        refs.productsList.addEventListener('click', handleProductsListItemClick);\n      }     \n})\n\n\n\n\n\n\n\n\n","import { refs } from \"./refs\";\nimport { setCurrentProduct } from \"../cart\";\n\nconst handleEscPress = (event) => {\n    \n    if (event.code === \"Escape\") {\n        closeModal();\n    };\n};\n\n\nconst handleBackdropClick = (event) => {\n    if (event.target === refs.modal) {\n        closeModal();\n    }\n};\n\nexport const openModal = (productId) => {\n    refs.modal.classList.add('modal--is-open');\n    document.body.style.overflow = \"hidden\";\n    window.addEventListener(\"keydown\", handleEscPress);\n    refs.modal.addEventListener(\"click\", handleBackdropClick);\n    setCurrentProduct(productId);\n};\n\nexport const closeModal = () => {\n    refs.modal.classList.remove('modal--is-open');\n    document.body.style.overflow = \"\";\n    window.removeEventListener(\"keydown\", handleEscPress);\n    refs.modal.removeEventListener(\"click\", handleBackdropClick);\n};\n\n\n\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nimport { activeFirstBtn, clearProducts, highlightActiveCategory, updateCartCounter, updateCartSummary, updateCartTotal, updateWishlistCounter, updateWishlistBtnText, showLoadMoreButton, hideLoadMoreButton, toggleActiveClass, hideNotFoundDiv, showNotFoundDiv} from './helpers';\nimport { fetchCategories, fetchProducts, fetchModal,  fetchByCategory, fetchQuery  } from './products-api';\nimport { renderCategories, renderProducts, renderEmptyMessage, renderModal } from './render-function';\nimport { refs } from './refs.js';\nimport { openModal } from './modal.js';\nimport { currentProductId, updateCartBtnText } from '../cart.js';\nimport { addToWishlist, addToCart, isInCart, isInWishlist, removeFromCart, removeFromWishlist } from './storage.js';\nimport { ITEMS_PER_PAGE } from './constants.js';\n\nlet currentPage = 1;\nlet currentSearchQuery = \"\";\n\n\nexport const getCategories = async () => {\n  try {\n    const data = await fetchCategories();\n    \n    renderCategories(data);\n\n    activeFirstBtn();\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\nexport const getProducts = async () => {\n  try {\n    const { products, total } = await fetchProducts(currentPage);\n\n    renderProducts(products);\n\n    const totalPages = Math.ceil(total / ITEMS_PER_PAGE);\n\n    if (currentPage >= totalPages) {\n      iziToast.info({\n        message: \"We're sorry, but you've reached the end.\",\n        position: \"topRight\",\n      });\n    } else {\n      showLoadMoreButton();\n    };\n\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\nexport const handleLoadMoreClick = async () => {\n  currentPage++;\n  hideLoadMoreButton();\n\n  try {\n    let data;\n\n    if (currentSearchQuery) {\n      data = await fetchQuery(currentSearchQuery, currentPage);\n    } else {\n      data = await fetchProducts(currentPage);\n    }\n\n    const { products, total } = data;\n    renderProducts(products);\n\n    const totalPages = Math.ceil(total / ITEMS_PER_PAGE);\n    if (currentPage < totalPages) {\n      showLoadMoreButton();\n    }\n\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n};\n\n// Модальне вікно\nexport const handleProductsListItemClick = async (event) => {\n  const card = event.target.closest(\".products__item\");\n  const cardId = card.dataset.id;  \n  \n  try {\n    const data = await fetchModal(cardId);\n    openModal(cardId);\n    renderModal(data);\n\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//  Клік по категорії ===\nexport const handleCategoryClick = async e => {\n  if (!e.target.classList.contains('categories__btn')) return;\n\n  hideLoadMoreButton();\n  clearProducts();\n\n  try {\n    const currentCategory = e.target.textContent;\n    const allCategoryBtn = document.querySelectorAll(\".categories__btn\");\n    toggleActiveClass(allCategoryBtn, e.target, \"categories__btn--active\");\n    let productsData;\n    if (currentCategory === \"All\") {\n      currentPage = 1;\n      productsData = await fetchProducts(currentPage);\n      showLoadMoreButton();\n    } else {\n      productsData = await fetchByCategory(currentCategory);\n    };\n\n    if (productsData.products.length > 0) {\n      renderProducts(productsData.products);\n      hideLoadMoreButton();\n    } else {\n      showNotFoundDiv\n    }\n    \n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n    console.log(error);\n  }\n};\n\n\n// пошук продуктів за ключовим словом - Олексій\nexport const handleProductsByQuery = async (event) => { \n  event.preventDefault();\n  const query = event.target.elements.searchValue.value.trim();\n  \n  if (!query) return;\n  clearProducts();\n  hideLoadMoreButton();\ntry {\n    const { products } = await fetchQuery(query);\n    \n    if (products.length === 0) {\n      showNotFoundDiv();\n    } else {\n      renderProducts(products);\n      hideNotFoundDiv();\n    };    \n  } catch (error) {\nconsole.log(error);\n};\n};\n\n// очищення форми - Олексій\nexport const handleClearForm = () => {\n  clearProducts();\n  refs.form.reset();\n  getProducts();\n};\n\n// click add/remove to/from cart\n\nexport const addProductByIdToCart = () => {\n  if (currentProductId === null) {\n    return;\n  }\n\n  if (isInCart(currentProductId)) {\n    removeFromCart(currentProductId);\n  } else {\n    addToCart(currentProductId);\n  }\n\n  updateCartBtnText();\n  updateCartCounter();\n};\n\n\n// click buyBtn\n\nexport const buyBtnCart = () => {\n\n  const cartData = JSON.parse(localStorage.getItem('cart'));\n  if (!Array.isArray(cartData) || cartData.length === 0) {\n    iziToast.warning({\n      title: 'Oops!',\n      message: 'Кошик порожній. Додайте товари перед покупкою.',\n      position: 'topRight',\n    });\n    return;\n  }\n  iziToast.success({\n    title: 'Success',\n    message: 'You successfully bought all products in the cart!',\n    position: 'topRight',\n  });\n  localStorage.removeItem('cart');\n  clearProducts();\n  updateCartSummary([]);\n  updateCartTotal([]);\n};\n\n//Iryna Wishlist click handler\n\nexport const addProductByIdToWishlist = () => {\n  if(currentProductId === null) {\n   return;\n  }  \n\n  if(isInWishlist(currentProductId)) {\n    removeFromWishlist(currentProductId);\n  } else {\n    addToWishlist(currentProductId);\n  }\n\n  updateWishlistBtnText(currentProductId);\n  updateWishlistCounter();\n};\n\n  \n","\nimport { getProducts } from './handlers';\nimport { refs } from './refs';\nimport { getCart, getWishlist, isInWishlist } from './storage';\n\nexport const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n    // firstBtn.addEventListener(\"click\", () => {\n    //   getProducts();\n    // });\n  }\n  //   [...refs.categoryList.children].forEach(li => {\n  //     const activeBtn = li.firstElementChild;\n  //     if (activeBtn.textContent.toLowerCase() === 'all') {\n  //       activeBtn.classList.add('categories__btn--active');\n  //     }\n  //   });\n};\n// 6. Підсвітка активної категорії ===\n\nexport const toggleActiveClass = (elements, activeElement, activeClass) => {\n  elements.forEach(element => {\n    element.classList.remove(activeClass);\n  });\n\n  activeElement.classList.add(activeClass);\n };\n\nexport const highlightActiveCategory = (activeButton) => {\n  document.querySelectorAll('.categories__btn').forEach(btn => btn.classList.remove('categories__btn--active'));\n  activeButton.classList.add('categories__btn--active');\n};\n\nexport const clearProducts = () => {\n  refs.productsList.innerHTML = \"\";\n}\n\n// cart product counter\n\nexport const updateCartCounter = () => {\n  const counter = document.querySelector('.nav__count');\n  if (!counter) {\n    return;\n  }\n  const cart = getCart();\n  counter.textContent = cart.length;\n};\n\n\nexport const updateCartSummary = products => {\n  if(!Array.isArray(products)) return;\n  if (!refs.countCartItem) return;\n  refs.countCartItem.textContent = products.length;\n};\n\nexport const updateCartTotal = (products) => {\n  if(!Array.isArray(products)) return;\n  if(!refs.priceCartTotal) return;\n  const total = products.reduce((sum, product) => sum + product.price, 0);\n  refs.priceCartTotal.textContent = `$${total.toFixed(2)}`;\n  };\n\n//wishlist \nexport const updateWishlistCounter = () => {\n  const counter = document.querySelector('.wishlist-items-count');\n  if (!counter) {\n    return;\n  }\n  \n  const wishlist = getWishlist();\n  counter.textContent = wishlist.length;\n};\n\nexport const updateWishlistBtnText = (id) => {\n  if(isInWishlist(id)) {\n    refs.addToWishlistBtn.textContent = 'Remove from Wishlist'\n  } else {\n    refs.addToWishlistBtn.textContent = 'Add to Wishlist'\n  }\n};\n\nexport const showLoadMoreButton = () => {\n    refs.loadMoreBtn.classList.remove(\"is-hidden\");\n};\n\nexport const hideLoadMoreButton = () => {\n    refs.loadMoreBtn.classList.add(\"is-hidden\");\n};\n\nexport const showNotFoundDiv = () => { \n  refs.notFoundDiv.classList.add(\"not-found--visible\");\n};\n\nexport const hideNotFoundDiv = () => { \n  refs.notFoundDiv.classList.remove(\"not-found--visible\");\n};\n"],"names":["BASE_URL","ENDPOINTS","ITEMS_PER_PAGE","CART_KEY","WISHLIST_KEY","axios","fetchCategories","data","fetchProducts","page","skip","fetchByCategory","category","fetchModal","id","fetchProductsByIds","Ids","product","error","fetchQuery","query","getCart","saveCart","cart","addToCart","removeFromCart","updateCart","itemId","isInCart","getWishlist","saveWishlist","wishlistIds","addToWishlist","removeFromWishlist","updateedWishlistArray","isInWishlist","refs","renderCategories","markup","el","renderProducts","products","thumbnail","title","brand","price","renderModal","modal","tags","description","shippingInformation","returnPolicy","currentProductId","setCurrentProduct","productId","updateCartBtnText","updateWishlistBtnText","loadCartProducts","cartData","helpers.updateCartSummary","helpers.updateCartTotal","buyBtnCart","handleProductsListItemClick","handleEscPress","event","closeModal","handleBackdropClick","openModal","currentPage","currentSearchQuery","getCategories","activeFirstBtn","iziToast","getProducts","total","totalPages","showLoadMoreButton","handleLoadMoreClick","hideLoadMoreButton","cardId","handleCategoryClick","e","clearProducts","currentCategory","allCategoryBtn","toggleActiveClass","productsData","handleProductsByQuery","showNotFoundDiv","hideNotFoundDiv","handleClearForm","addProductByIdToCart","updateCartCounter","updateCartSummary","updateCartTotal","addProductByIdToWishlist","updateWishlistCounter","firstBtn","elements","activeElement","activeClass","element","counter","sum","wishlist"],"mappings":"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"}