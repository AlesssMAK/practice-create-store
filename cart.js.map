{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\n\nimport { buyBtnCart, handleProductsListItemClick, addProductByIdToCart, addProductByIdToWishlist } from './js/handlers';\nimport * as helpers from './js/helpers';\nimport { fetchProductsByIds } from './js/products-api';\nimport { refs } from './js/refs';\nimport { renderEmptyMessage, renderProducts } from './js/render-function';\nimport { getCart } from './js/storage';\nimport { closeModal } from './js/modal';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    helpers.updateCartCounter();\n    helpers.updateWishlistCounter(); \n});\n\nconst loadCartProducts = async () => {\n    const cartListItems = getCart(); \n    \n    if (!cartListItems.length) { \n        renderEmptyMessage(refs.productsList, 'Your cart is empty.');\n        helpers.updateCartSummary([]); \n        helpers.updateCartTotal([]);\n        return;\n    }\n\n    try {\n        const products = await fetchProductsByIds(cartListItems);\n        refs.productsList.innerHTML = ''; \n        renderProducts(products);\n        helpers.updateCartSummary(products);\n        helpers.updateCartTotal(products);\n        \n    } catch (error) {\n        console.error(\"Помилка завантаження товарів:\", error);\n    }\n};\n\nconst closeModalCartlist = () => {\n    closeModal();\n    loadCartProducts();\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    if (refs.buyBtn) {\n        refs.buyBtn.addEventListener('click', buyBtnCart);\n    }\n    loadCartProducts();\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    if (refs.productsList) {\n        refs.productsList.addEventListener('click', handleProductsListItemClick);\n    }   \n    refs.modalCloseBtn.addEventListener(\"click\", closeModalCartlist);\n    refs.addToCartBtn.addEventListener('click', addProductByIdToCart);\n    refs.addToWishlistBtn.addEventListener('click', addProductByIdToWishlist);    \n});\n\nhelpers.updateCartCounter(); \n"],"names":["helpers.updateCartCounter","helpers.updateWishlistCounter","loadCartProducts","cartListItems","getCart","renderEmptyMessage","refs","helpers.updateCartSummary","helpers.updateCartTotal","products","fetchProductsByIds","renderProducts","error","closeModalCartlist","closeModal","buyBtnCart","handleProductsListItemClick","addProductByIdToCart","addProductByIdToWishlist"],"mappings":"gLAUA,SAAS,iBAAiB,mBAAoB,IAAM,CAChDA,IACAC,GACJ,CAAC,EAED,MAAMC,EAAmB,SAAY,CACjC,MAAMC,EAAgBC,IAEtB,GAAI,CAACD,EAAc,OAAQ,CACvBE,EAAmBC,EAAK,aAAc,qBAAqB,EAC3DC,EAA0B,CAAE,CAAA,EAC5BC,EAAwB,CAAE,CAAA,EAC1B,MACH,CAED,GAAI,CACA,MAAMC,EAAW,MAAMC,EAAmBP,CAAa,EACvDG,EAAK,aAAa,UAAY,GAC9BK,EAAeF,CAAQ,EACvBF,EAA0BE,CAAQ,EAClCD,EAAwBC,CAAQ,CAEnC,OAAQG,EAAO,CACZ,QAAQ,MAAM,gCAAiCA,CAAK,CACvD,CACL,EAEMC,EAAqB,IAAM,CAC7BC,IACAZ,GACJ,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAC5CI,EAAK,QACLA,EAAK,OAAO,iBAAiB,QAASS,CAAU,EAEpDb,GACJ,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAC5CI,EAAK,cACLA,EAAK,aAAa,iBAAiB,QAASU,CAA2B,EAE3EV,EAAK,cAAc,iBAAiB,QAASO,CAAkB,EAC/DP,EAAK,aAAa,iBAAiB,QAASW,CAAoB,EAChEX,EAAK,iBAAiB,iBAAiB,QAASY,CAAwB,CAC5E,CAAC,EAEDlB,EAA2B"}