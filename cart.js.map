{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport {\n  handleProductsListItemClick,\n  addProductByIdToCart,\n  addProductByIdToWishlist,\n  loadCartProducts,\n  closeModalCartlist,\n} from './js/handlers';\nimport {\n  updateCartCounter,\n  updateWishlistCounter,\n  clearProducts,\n  updateCartSummary,\n  updateCartTotal,\n} from './js/helpers';\nimport { refs } from './js/refs';\nimport {\n  getTheme,\n  applyTheme,\n  toggleTheme,\n  addToCart,\n  isInCart,\n  getCart,\n  saveCart,\n  removeFromCart,\n} from './js/storage';\n\napplyTheme(getTheme());\nconst themeToggleBtn = document.querySelector('.theme-toggle-btn');\nif (themeToggleBtn) {\n  themeToggleBtn.addEventListener('click', toggleTheme);\n}\nconst searchForm = document.querySelector('.search-form');\nsearchForm.remove();\n\nupdateCartCounter();\nupdateWishlistCounter();\nloadCartProducts();\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (refs.productsList) {\n    refs.productsList.addEventListener('click', handleProductsListItemClick);\n  }\n  refs.modalCloseBtn.addEventListener('click', closeModalCartlist);\n  refs.addToCartBtn.addEventListener('click', addProductByIdToCart);\n  refs.addToWishlistBtn.addEventListener('click', addProductByIdToWishlist);\n});\n\n///\nconst buyButton = document.querySelector('.cart-summary__btn');\n\nbuyButton.addEventListener('click', () => {\n  const cart = getCart();\n\n  if (cart.length === 0) {\n    iziToast.warning({\n      title: 'Oops!',\n      message:\n        'Cart is empty. Please add products before proceeding to checkout.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  iziToast.success({\n    title: 'Success',\n    message: 'You successfully bought all products in the cart!',\n    position: 'topRight',\n  });\n  //localStorage.removeItem('cart');\n  saveCart([]);\n  clearProducts();\n  updateCartSummary([]);\n  updateCartTotal([]);\n  updateCartCounter();\n  return;\n});\n"],"names":["applyTheme","getTheme","themeToggleBtn","toggleTheme","searchForm","updateCartCounter","updateWishlistCounter","loadCartProducts","refs","handleProductsListItemClick","closeModalCartlist","addProductByIdToCart","addProductByIdToWishlist","buyButton","getCart","iziToast","saveCart","clearProducts","updateCartSummary","updateCartTotal"],"mappings":"sMA6BAA,EAAWC,EAAU,CAAA,EACrB,MAAMC,EAAiB,SAAS,cAAc,mBAAmB,EAC7DA,GACFA,EAAe,iBAAiB,QAASC,CAAW,EAEtD,MAAMC,EAAa,SAAS,cAAc,cAAc,EACxDA,EAAW,OAAM,EAEjBC,IACAC,IACAC,IACA,SAAS,iBAAiB,mBAAoB,IAAM,CAC9CC,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASC,CAA2B,EAEzED,EAAK,cAAc,iBAAiB,QAASE,CAAkB,EAC/DF,EAAK,aAAa,iBAAiB,QAASG,CAAoB,EAChEH,EAAK,iBAAiB,iBAAiB,QAASI,CAAwB,CAC1E,CAAC,EAGD,MAAMC,EAAY,SAAS,cAAc,oBAAoB,EAE7DA,EAAU,iBAAiB,QAAS,IAAM,CAGxC,GAFaC,IAEJ,SAAW,EAAG,CACrBC,EAAS,QAAQ,CACf,MAAO,QACP,QACE,oEACF,SAAU,UAChB,CAAK,EACD,MACD,CAEDA,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,oDACT,SAAU,UACd,CAAG,EAEDC,EAAS,CAAE,CAAA,EACXC,IACAC,EAAkB,CAAE,CAAA,EACpBC,EAAgB,CAAE,CAAA,EAClBd,GAEF,CAAC"}